<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>車両情報一覧</title>
</head>

<body>
    <main class="w-100 my-0 mx-auto d-flex flex-column justify-content-center mt-4">
        <h2 class="mx-auto w-75 mb-5">会員情報一覧</h2>
        <article>
            <h3 class="d-none mx-auto w-75">検索</h3>
            <form action="./user_list" method="get" class="form-inline mb-4">
                <div class="input-group w-75 mx-auto">
                    <input type="text" class="form-control" placeholder="キーワードを入力" name="userName">
                    <button class="btn btn-outline-primary" type="submit" id="button-addon2">
                        <i class="fas fa-search"></i> 検索</button>
                </div>
            </form>
        </article>
        <article class="mx-auto w-75 mb-5">
            <h3 class="d-none">車両一覧</h3>
            <table class="table table-striped table-float">
                <tr>
                    <th class="tableMenu">ID</th>
                    <th class="tableMenu">name</th>
                    <th class="tableMenu">e-mail</th>
                    <th class="tableMenu">tel</th>
                    <th class="tableMenu">BAN</th>
                </tr>
                <% for (let i=0; i < userList.length; i++) { %>
                    <tr>
                        <td>
                            <%= userList[i].US_id %>
                        </td>
                        <td>
                            <%= userList[i].US_name %>
                        </td>
                        <td>
                            <%= userList[i].US_mail %>
                        </td>
                        <td>
                            <%= userList[i].US_tel %>
                        </td>
                        <td>
                            <a href="user_ban?userId=<%= userList[i].US_id %>" class="btn btn-<%= userList[i].US_ban == 0 ? 'danger' : 'success' %>">
                                <%= userList[i].US_ban==0 ? 'Ban' : 'UnBan' %>
                            </a>
                        </td>
                    </tr>
                    <% } %>
            </table>
        </article>
        <article class="mx-auto">
            <h4 class="d-none">ページャー</h4>
            <ul class="pagination">
                <li class="page-item <%= currentPage == 1 ? 'disabled' : '' %>"><a href="?page=<%= currentPage - 1 %>"
                        class="page-link">前へ</a></li>
                <% for (let i=0; i < pageLength; i++) { %>
                    <li class="page-item"><a href="?page=<%= i + 1 %>" class="page-link">
                            <%= i + 1 %>
                        </a></li>
                    <% } %>
                        <li class="page-item <%= currentPage == pageLength ? 'disabled' : '' %>"><a
                                href="?page=<%= currentPage + 1 %>" class="page-link">次へ</a></li>
            </ul>
        </article>
    </main>
</body>

</html>